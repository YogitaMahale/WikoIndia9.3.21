@model Autofocus.Models.ViewModels.CertificationInformationEditViewModel
@{
    ViewData["Title"] = "Edit Certification Photos";
}

@*<h2>EditUserCertification</h2>*@

 
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<div class="side-app">

    <!-- end row -->
    <div class="row" style="margin-top:10px;">
        <div class="col-md-12">
            <form method="post" enctype="multipart/form-data" asp-action="EditUserCertification">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="card m-b-20">

                    <div class="card-header">
                        <h3 class="card-title" style="color:darkorange">@ViewData["Title"]</h3>
                    </div>
                    <div class="card-body">
                        <input type="hidden" asp-for="loginType" />
                        <div class="form-row">
                            <div class="form-group  col-md-6">
                                <label class="form-label" asp-for="Ceritication_IEC"></label>
                                <input asp-for="Ceritication_IEC" type="file" class="dropify" data-default-file="@Model.Ceritication_IECImg" data-height="50" value="Upload" />
                                <span asp-validation-for="Ceritication_IEC" class="text-danger"></span>
                            </div>
                            <div class="form-group  col-md-6">
                                <label class="form-label" asp-for="Ceritication_APEDA"></label>
                                <input asp-for="Ceritication_APEDA" type="file" class="dropify" data-default-file="@Model.Ceritication_APEDAImg" data-height="50" value="Upload" />
                                <span asp-validation-for="Ceritication_APEDA" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group  col-md-6">
                                <label class="form-label" asp-for="Ceritication_FIEO"></label>
                                <input asp-for="Ceritication_FIEO" type="file" class="dropify" data-default-file="@Model.Ceritication_FIEOImg" data-height="50" value="Upload" />
                                <span asp-validation-for="Ceritication_FIEO" class="text-danger"></span>
                            </div>
                            <div class="form-group  col-md-6">
                                <label class="form-label" asp-for="Ceritication_GlobalGap"></label>
                                <input asp-for="Ceritication_GlobalGap" type="file" class="dropify" data-default-file="@Model.Ceritication_GlobalGapImg" data-height="50" value="Upload" />
                                <span asp-validation-for="Ceritication_GlobalGap" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group  col-md-6">
                                <label class="form-label" asp-for="Ceritication_Others"></label>
                                <input asp-for="Ceritication_Others" type="file" class="dropify" data-default-file="@Model.Ceritication_OthersImg" data-height="50" value="Upload" />
                                <span asp-validation-for="Ceritication_Others" class="text-danger"></span>
                            </div>

                        </div>



                        <button type="submit" style="margin-right:5px;" class="btn btn-primary "><i class="fa fa-save" style="margin-right:0.7em"></i>Update</button>
                        @*<a asp-action="index" class="btn btn-rounded btn-info float-right"><i class="fa fa-backward" style="margin-right:0.7em"></i>Back</a>*@

                    </div>






                </div>
            </form>

        </div>
    </div>





</div>
@section Scripts{
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/js/map.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDcXKKT1uwx4B0IrReicMNqBbL9kSSFw3g&callback=initMap&libraries=&v=weekly"
        async></script>
@*<script src="~/dropdownselect/chosen.jquery.js" type="text/javascript"></script>
    <script src="~/dropdownselect/docsupport/prism.js" type="text/javascript" charset="utf-8"></script>
    <script src="~/dropdownselect/docsupport/init.js" type="text/javascript" charset="utf-8"></script>*@




<script type="text/javascript">



    function isEmpty(val) {
        return (val === undefined || val == null || val.length <= 0) ? true : false;
    }
    $(document).ready(function () {
        $("[data-rel='chosen']").chosen();
        //----------------------------
        loadExportCountries();

        if (isEmpty($("#cityid").val())) {
           // alert("empty");
        }
        else {
           // alert("not empty");
            loadProduct($("#cityid").val());
        }
       //
        $("#cityid").change(function () {
          //  alert("test");
            $("#multipleproductDealin").empty();
            loadProduct($("#cityid").val());



        });

           function loadProduct(cityid) {
           // alert(cityid);
            $("#productDealin").empty();
           var s = '';
        $("[data-rel='chosen']").chosen();
            var url = '@Url.Content("~/")' + 'Admin/User/getSubcategory?cityid=' + cityid;
          //  var ddlsource = "#countryid";
            $.getJSON(url,
                function (data) {
                    $.each(data, function (i, row) {
                        s += '<option value="' + row.value + '">' + row.text + '</option>';
                    });
                    $("#productDealin").html(s);
                    //multipleproductDealin

                    var str_array = $("#multipleproductDealin").val().split(',');
                    for (var i = 0; i < str_array.length; i++) {
                        str_array[i] = str_array[i].replace(/^\s*/, "").replace(/\s*$/, "");
                    }
                   // console.log(str_array);
                    $('#productDealin').val(str_array).trigger('chosen:updated');

                    $("[data-rel='chosen']").trigger("chosen:updated");
                  //  console.log(item);
                   // $("#cityid").html(item);
                }
        )
        }



            function loadExportCountries(cityid) {
                $("#ExportToCountries").empty();

              var s = '';
            $("[data-rel='chosen']").chosen();
              var url = '@Url.Content("~/")' + 'Admin/GetJsonData/getCountry';
          //  var ddlsource = "#countryid";
            $.getJSON(url,
                function (data) {
                    $.each(data, function (i, row) {
                        s += '<option value="' + row.value + '">' + row.text + '</option>';
                    });
                    $("#ExportToCountries").html(s);

                    var str_array = $("#multipleExportToCountries").val().split(',');
                    for (var i = 0; i < str_array.length; i++) {
                        str_array[i] = str_array[i].replace(/^\s*/, "").replace(/\s*$/, "");
                    }
                  //  console.log(str_array);
                    $('#ExportToCountries').val(str_array).trigger('chosen:updated');


                    //console.log(s);
                    $("[data-rel='chosen']").trigger("chosen:updated");
                   // console.log(item);
                   // $("#cityid").html(item);
                }
        )



    }
    });
    $(function () {

        $("#countryid").change(function () {
            //alert($("#countryid").val());
            var url = '@Url.Content("~/")' + 'Admin/CityRegistration/getstatebyid';
            var ddlsource = "#countryid";
            $.getJSON(url,
                { id: $(ddlsource).val() },
                function (data) {
                //   console.log(data);
                    var item = ' <option value="">select</option>';
                    $("#stateid").empty();
                    $("#cityid").empty();


                    $.each(data, function (i, row) {

                        item += "<option value='" + row.value + "'>" + row.text + "  </option > ";
                       // alert(row);
                    });
                    $("#stateid").html(item);
                }
            )
        });
          $("#stateid").change(function () {

            var url = '@Url.Content("~/")' + 'Admin/GetJsonData/getCitybyStateid';
            var ddlsource1 = "#stateid";
            $.getJSON(url,
                { stateid: $(ddlsource1).val() },
                function (data) {
                //   console.log(data);
                    var item = '<option value="">Select</option >';
                    $("#cityid").empty();

                    $.each(data, function (i, row) {

                        item += "<option value='" + row.value + "'>" + row.text + "  </option > ";
                       // alert(row);
                    });
                    $("#cityid").html(item);
                }
            )
          });



        $("#ExportToCountries").change(function () {
            $("#multipleExportToCountries").val($("#ExportToCountries").val());
        });
        $("#productDealin").change(function () {
            $("#multipleproductDealin").val($("#productDealin").val());
        });
    });

</script>
